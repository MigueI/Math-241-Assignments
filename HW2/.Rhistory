names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtoSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
names(census)[names(census)=="SE_T014_005"] <- "Asian"
names(census)[names(census)=="SE_T014_006"] <- "Pacific_Islander"
names(census)[names(census)=="SE_T014_007"] <- "Other"
names(census)[names(census)=="SE_T014_008"] <- "Two_or_More_Races"
names(census)[names(census)=="SE_T093_001"] <- "Median_Household_Income"
names(census)[names(census)=="SE_T185_001"] <- "People_with_Poverty_Status"
names(census)[names(census)=="SE_T185_002"] <- "Really_Struggling"
names(census)[names(census)=="SE_T185_003"] <- "Struggling"
names(census)[names(census)=="SE_T185_004"] <- "Poor"
names(census)[names(census)=="SE_T185_005"] <- "Doing_OK"
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian, Pacific_Islander, Other, Two_or_More_Races, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtoSix, StS, StE, E)
FIPS_data <- SEER %>%
group_by(FIPS_code) %>%
summarize(Total_Patients = n())
FIPS_data <- left_join(FIPS_data, census, by = "FIPS_code")
ggplot(FIPS_data, aes(x =(E + StE + StS)/Total_Population, y = Total_Patients/Total_Population)) + geom_point()
ggplot(FIPS_data, aes(x =(E + StE + StS)/Total_Population, y = Total_Patients/Total_Population)) + geom_point() + geom_smooth()
ggplot(FIPS_data, aes(x =(E + StE + StS + FtSix)/Total_Population, y = Total_Patients/Total_Population)) + geom_point() + geom_smooth()
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
names(census)[names(census)=="SE_T014_005"] <- "Asian"
names(census)[names(census)=="SE_T014_006"] <- "Pacific_Islander"
names(census)[names(census)=="SE_T014_007"] <- "Other"
names(census)[names(census)=="SE_T014_008"] <- "Two_or_More_Races"
names(census)[names(census)=="SE_T093_001"] <- "Median_Household_Income"
names(census)[names(census)=="SE_T185_001"] <- "People_with_Poverty_Status"
names(census)[names(census)=="SE_T185_002"] <- "Really_Struggling"
names(census)[names(census)=="SE_T185_003"] <- "Struggling"
names(census)[names(census)=="SE_T185_004"] <- "Poor"
names(census)[names(census)=="SE_T185_005"] <- "Doing_OK"
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian, Pacific_Islander, Other, Two_or_More_Races, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtSix, StS, StE, E)
FIPS_data <- SEER %>%
group_by(FIPS_code) %>%
summarize(Total_Patients = n())
FIPS_data <- left_join(FIPS_data, census, by = "FIPS_code")
ggplot(FIPS_data, aes(x =(E + StE + StS + FtS)/Total_Population, y = Total_Patients/Total_Population)) + geom_point() + geom_smooth()
ggplot(FIPS_data, aes(x =(E + StE + StS + FtS)/Total_Population, y = Total_Patients/Total_Population)) + geom_point() + geom_smooth(method = "lm")
ggplot(FIPS_data, aes(x =(Really_Struggling+Struggling+Poor)/Total_Population, y = Total_Patients/Total_Population)) + geom_point()
ggplot(FIPS_data, aes(x =(Really_Struggling)/Total_Population, y = Total_Patients/Total_Population)) + geom_point()
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point() + geom_smooth()
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm) + geom_smooth()
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth()
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(na.rm = TRUE)
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(na.rm = TRUE, method = "auto")
ggplot(FIPS_data, aes(x =(E + StE + StS + FtS)/Total_Population, y = Total_Patients/Total_Population)) + geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method = "auto", na.rm = TRUE)
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method="auto", na.rm = TRUE)
ggplot(FIPS_data, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE)
profiles$e0len <- wc(essays$essay1)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
View(essays)
profiles$e0len <- wc(essays$essay3)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
model3 <- glm(is.female ~ e0len, data=profiles, family=binomial)
summary(model3)
b3 <- coefficients(model3)
qplot(fitted(model3)) + xlab("Fitted Probability of Being Female")
p3 <- ggplot(data=profiles, aes(x=jitter(e0len), y=jitter(is.female))) +
geom_point() + xlab("# of words in Essay 0") +
ylab("is female")
p3
# We now add the regression line.  What does the range of this line tell you
# about username length as a predictor?  Also, compare this to the model0 mean.
regression.line <- function(x, b){
linear.equation <- b[1] + b[2]*x
1/(1+exp(-linear.equation))
}
p3 + stat_function(fun = regression.line, args=list(b=b3), color="blue", size=2)
p3 + stat_function(fun = log(regression.line), args=list(b=b3), color="blue", size=2)
p3 + stat_function(fun = log(regression.line), args=list(b=b3), color="blue", size=2)
View(essays)
profiles$e0len <- wc(essays$essay4)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay5)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay6)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay7)
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay7)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
View(essays)
profiles$e0len <- wc(essays$essay0) + wc(essays$essay1) + wc(essays$essay2) +
wc(essays$essay3) + wc(essays$essay4) + wc(essays$essay5) + wc(essays$essay6) +
wc(essays$essay7) + wc(essays$essay8) + wc(essays$essay9)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
model3 <- glm(is.female ~ e0len, data=profiles, family=binomial)
summary(model3)
b3 <- coefficients(model3)
qplot(fitted(model3)) + xlab("Fitted Probability of Being Female")
```
p3 <- ggplot(data=profiles, aes(x=jitter(e0len), y=jitter(is.female))) +
geom_point() + xlab("# of words in Essay 0") +
ylab("is female")
p3
# We now add the regression line.  What does the range of this line tell you
# about username length as a predictor?  Also, compare this to the model0 mean.
regression.line <- function(x, b){
linear.equation <- b[1] + b[2]*x
1/(1+exp(-linear.equation))
}
p3 + stat_function(fun = regression.line, args=list(b=b3), color="blue", size=2)
profiles$e0len <- wc(essays$essay1) + wc(essays$essay2) +
wc(essays$essay3) + wc(essays$essay4) + wc(essays$essay5) + wc(essays$essay6) +
wc(essays$essay7) + wc(essays$essay8) + wc(essays$essay9)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay1)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay0)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay2)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay3)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay3)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
profiles$e0len <- wc(essays$essay4)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay5)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay6)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay7)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay8)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay9)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
profiles$e0len <- wc(essays$essay9) + wc(essays$essay7) + wc(essays$essay6) + wc(essays$essay5) + wc(essays$essay3) + wc(essays$essay1) + wc(essays$essay0)
profiles$e0len[is.na(profiles$e0len)] <- 0
ggplot(profiles, aes(x = log(e0len), y = jitter(is.female))) + geom_point()
group_by(profiles, is.female) %>%
summarise(mean=mean(e0len), SE=sd(e0len)/n())
model3 <- glm(is.female ~ e0len, data=profiles, family=binomial)
summary(model3)
b3 <- coefficients(model3)
# Histogram of fitted p.hat's.  CRUCIAL:  compare the range of these fitted
# p.hats to the ones from the model that uses height.  What does this tell you
# about using username length as a predictor?
qplot(fitted(model3)) + xlab("Fitted Probability of Being Female")
p3 <- ggplot(data=profiles, aes(x=jitter(e0len), y=jitter(is.female))) +
geom_point() + xlab("# of words in Essay 0") +
ylab("is female")
p3
# We now add the regression line.  What does the range of this line tell you
# about username length as a predictor?  Also, compare this to the model0 mean.
regression.line <- function(x, b){
linear.equation <- b[1] + b[2]*x
1/(1+exp(-linear.equation))
}
p3 + stat_function(fun = regression.line, args=list(b=b3), color="blue", size=2)
a <- select(profiles$e0len == 0 & profiles$is.female==1) %>% nrows(.)
a <- select(profiles, e0len == 0 & is.female==1) %>% nrows(.)
a <- select(profiles, profiles$e0len == 0 & is.female==1) %>% nrows(.)
a <- select(profiles, profiles$e0len == 0 & profiles$is.female==1) %>% nrows(.)
a <- select(profiles, profiles$e0len == 0 && profiles$is.female==1) %>% nrows(.)
a <- select(profiles, profiles$e0len == 0, profiles$is.female==1) %>% nrows(.)
a <- select(profiles, e0len == 0 is.female == 1) %>% nrows(.)
a <- select(profiles, e0len == 0 & is.female == 1) %>% nrows(.)
a <- subset(profiles, e0len == 0 & is.female == 1) %>% nrows(.)
nrows(a)
nrow(a)
a <- subset(profiles, e0len == 0 & is.female == 1)
nrow(a)
w <- subset(profiles, e0len == 0 & is.female == 1)
w <- subset(profiles, e0len == 0 & is.female == 1)
nrow(w)/nrow(profiles)
m <- subset(profiles, e0len == 0 & is.female == 0)
nrow(m)/nrow(profiles)
z <- subset(profiles, e0len == 0)
nrow(w)/nrow(z)
nrow(m)/nrow(z)
transmutate(census, "Asian/Pacific_Islander" = SE_T014_005 + SE_T014_006)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
transmute(census, "Asian/Pacific_Islander" = SE_T014_005 + SE_T014_006)
View(census)
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian/Pacific_Islander, Other, Two_or_More_Races, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtSix, StS, StE, E)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
transmute(census, "Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
names(census)[names(census)=="SE_T014_007"] <- "Other"
names(census)[names(census)=="SE_T014_008"] <- "Two_or_More_Races"
names(census)[names(census)=="SE_T093_001"] <- "Median_Household_Income"
names(census)[names(census)=="SE_T185_001"] <- "People_with_Poverty_Status"
names(census)[names(census)=="SE_T185_002"] <- "Really_Struggling"
names(census)[names(census)=="SE_T185_003"] <- "Struggling"
names(census)[names(census)=="SE_T185_004"] <- "Poor"
names(census)[names(census)=="SE_T185_005"] <- "Doing_OK"
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian_or_Pacific_Islander, Other, Two_or_More_Races, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtSix, StS, StE, E)
transmute(census, "Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
census %<>% transmute("Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
census %<>% transmute("Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
names(census)[names(census)=="SE_T014_007"] <- "Other"
names(census)[names(census)=="SE_T014_008"] <- "Two_or_More_Races"
names(census)[names(census)=="SE_T093_001"] <- "Median_Household_Income"
names(census)[names(census)=="SE_T185_001"] <- "People_with_Poverty_Status"
names(census)[names(census)=="SE_T185_002"] <- "Really_Struggling"
names(census)[names(census)=="SE_T185_003"] <- "Struggling"
names(census)[names(census)=="SE_T185_004"] <- "Poor"
names(census)[names(census)=="SE_T185_005"] <- "Doing_OK"
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian_or_Pacific_Islander, Other, Two_or_More_Races, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtSix, StS, StE, E)
View(census)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
census %<>% transmute("Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
View(census)
census$Asian_or_Pacific_Islander <- transmute(census ,"Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
census$Asian_or_Pacific_Islander <- transmute(census ,"Asian_or_Pacific_Islander" = SE_T014_005 + SE_T014_006)
View(census)
$Asian_or_Pacific_Islander
census$Asian_or_Pacific_Islander <- transmute(census, SE_T014_005 + SE_T014_006)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
census$Asian_or_Pacific_Islander <- transmute(census, SE_T014_005 + SE_T014_006)
View(census)
census <- transmute(census, "Asian_or_Pacific_Islander" =  SE_T014_005 + SE_T014_006)
View(census)
census <- mutate(census, "Asian_or_Pacific_Islander" =  SE_T014_005 + SE_T014_006)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
census <- mutate(census, "Asian_or_Pacific_Islander" =  SE_T014_005 + SE_T014_006)
View(census)
census <- read.csv("census2000.csv", header=TRUE) %>% tbl_df()
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
names(census)[names(census)=="SE_T005_002"] <- "Males"
names(census)[names(census)=="SE_T005_003"] <- "Females"
names(census)[names(census)=="Geo_FIPS"] <- "FIPS_code"
names(census)[names(census)=="SE_T008_002"] <- "ZtF" #0-4
names(census)[names(census)=="SE_T008_003"] <- "FtN" #5-9
names(census)[names(census)=="SE_T008_004"] <- "TtF" #10-14
names(census)[names(census)=="SE_T008_005"] <- "FtS" #15-17
names(census)[names(census)=="SE_T008_006"] <- "EtT" #18-24
names(census)[names(census)=="SE_T008_007"] <- "TtT" #25-34
names(census)[names(census)=="SE_T008_008"] <- "TtFou" #35-44
names(census)[names(census)=="SE_T008_009"] <- "FtFif" #45-54
names(census)[names(census)=="SE_T008_010"] <- "FtSix" #55-64
names(census)[names(census)=="SE_T008_011"] <- "StS" #65-74
names(census)[names(census)=="SE_T008_012"] <- "StE" #75-84
names(census)[names(census)=="SE_T008_013"] <- "E" #85 +
names(census)[names(census)=="SE_T014_002"] <- "White"
names(census)[names(census)=="SE_T014_003"] <- "Black"
names(census)[names(census)=="SE_T014_004"] <- "American_Indian"
census %<>% mutate("Asian_or_Pacific_Islander" =  SE_T014_005 + SE_T014_006)
census %<>% mutate("Other" =  SE_T014_007 + SE_T014_008)
names(census)[names(census)=="SE_T093_001"] <- "Median_Household_Income"
names(census)[names(census)=="SE_T185_001"] <- "People_with_Poverty_Status"
names(census)[names(census)=="SE_T185_002"] <- "Really_Struggling"
names(census)[names(census)=="SE_T185_003"] <- "Struggling"
names(census)[names(census)=="SE_T185_004"] <- "Poor"
names(census)[names(census)=="SE_T185_005"] <- "Doing_OK"
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian_or_Pacific_Islander, Other, Two_or_More_Races, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtSix, StS, StE, E)
census %<>% select(Total_Population, Males, Females, FIPS_code, White, Black, American_Indian, Asian_or_Pacific_Islander, Other, Median_Household_Income, People_with_Poverty_Status, Really_Struggling, Struggling, Poor, Doing_OK, ZtF, FtN, TtF, FtS, EtT, TtT, TtFou, FtFif, FtSix, StS, StE, E)
View(census)
ggplot(breast, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE)
breast <- subset(SEER, cancer_type=="Breast ")
breast %<>% group_by(FIPS_code) %>%
summarize(Total_Patients = n())
breast <- left_join(breast, census, by = "FIPS_code")
ggplot(breast, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE)
geom_point(na.rm = TRUE) + geom_smooth()
ggplot(breast, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth()
ggplot(breast, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
lung <- subset(SEER, cancer_type=="Lung and Bronchus ")
lung %<>% group_by(FIPS_code) %>%
summarize(Total_Patients = n())
lung <- left_join(lung, census, by = "FIPS_code")
ggplot(lung, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
ggplot(lung, aes(x = Median_Household_Income, y = log(Total_Patients/Total_Population))) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
ggplot(lung, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
ggplot(breast, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
ggplot(breast, aes(x = Median_Household_Income, y = log(Total_Patients/Total_Population))) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
ggplot(breast, aes(x = Median_Household_Income, y = Total_Patients/Total_Population)) +
geom_point(na.rm = TRUE) + geom_smooth(method = "lm", na.rm = TRUE)
