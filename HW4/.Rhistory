scale_x_discrete(breaks=c(2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015))
crime_data <- crime_data %>%
mutate(crimeyear = as.numeric(year(date))-0.5)
dt <- crime_data %>%
group_by(crimeyear, offense) %>%
subset(offense == "Rape")
ggplot(dt, aes(crimeyear)) +
geom_histogram(data=subset(dt,crimeyear == 2013),binwidth=1,fill="red") +
geom_histogram(data=subset(dt,crimeyear != 2013),binwidth=1,fill="black")+
coord_cartesian(xlim = c(min(crime_data$crimeyear)-1, max(crime_data$crimeyear)+1)) +
xlab("Year Reported") + ylab("Number of Crimes") +
ggtitle("Number of Cases") +
scale_x_discrete(breaks=c(2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015))
crime <- as.character(input$crime)
year <- as.numeric(input$year)
crime_data <- crime_data %>%
mutate(crimeyear = as.numeric(year(date))-0.5)
dt <- crime_data %>%
group_by(crimeyear, offense) %>%
subset(offense == "Rape")
ggplot(dt, aes(crimeyear)) +
geom_histogram(data=subset(dt,crimeyear == 2013-0.5),binwidth=1,fill="red") +
geom_histogram(data=subset(dt,crimeyear != 2013-0.5),binwidth=1,fill="black")+
coord_cartesian(xlim = c(min(crime_data$crimeyear)-1, max(crime_data$crimeyear)+1)) +
xlab("Year Reported") + ylab("Number of Crimes") +
ggtitle("Number of Cases") +
scale_x_discrete(breaks=c(2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014))
crime_data <- crime_data %>%
mutate(crimeyear = as.numeric(year(date))-0.5)
dt <- crime_data %>%
group_by(crimeyear, offense) %>%
subset(offense == "Rape")
ggplot(dt, aes(crimeyear)) +
geom_histogram(data=subset(dt,crimeyear == 2013-0.5),binwidth=1,fill="red") +
geom_histogram(data=subset(dt,crimeyear != 2013-0.5),binwidth=1,fill="black")+
coord_cartesian(xlim = c(min(crime_data$crimeyear)-1, max(crime_data$crimeyear)+1)) +
xlab("Year Reported") + ylab("Number of Crimes") +
ggtitle("Number of Cases") +
scale_x_discrete(breaks=c(2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014))
crime_data <- crime_data %>%
mutate(crimeyear = as.numeric(year(date)))
dt <- crime_data %>%
group_by(crimeyear, offense) %>%
subset(offense == "Rape")
ggplot(dt, aes(crimeyear)) +
geom_histogram(data=subset(dt,crimeyear == 2013),binwidth=1,fill="red") +
geom_histogram(data=subset(dt,crimeyear != 2013),binwidth=1,fill="black")+
coord_cartesian(xlim = c(min(crime_data$crimeyear)-1, max(crime_data$crimeyear)+1)) +
xlab("Year Reported") + ylab("Number of Crimes") +
ggtitle("Number of Cases") +
scale_x_discrete(breaks=c(2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014))
clean.text <- function(text){
text <- gsub("[^[:alnum:]]", "", text)
text <- gsub(" ", "", text)
text <- tolower(text)
return(text)
}
# State and county map of US in 2010
US.state <- map_data("state") %>% tbl_df()
US.county <- map_data("county") %>% tbl_df()
ggplot(US.county, aes(x=long, y=lat, group=group)) +
geom_polygon(fill="white") +
geom_path(col="black", size=0.01) +
coord_map()
election <- read.csv(COUNTY.CSV, header="TRUE") %>% tbl_df()
election <- read.csv(COUNTY.csv, header="TRUE") %>% tbl_df()
election <- read.csv(COUNTY.csv, header="TRUE") %>% tbl_df()
election <- read.csv(county.csv, header="TRUE") %>% tbl_df()
election <- read.csv("COUNTY.csv", header="TRUE") %>% tbl_df()
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
View(election)
View(US.county)
election <- left_join(US.county, election, by = c("subregion" ="COUNTY"))
View(election)
ggplot(US.county, aes(x=long, y=lat, group=group)) +
geom_polygon(fill="white") +
geom_path(col="black", size=0.01) +
coord_map()
clean.text(election)
View(election)
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election <- clean.text(election) %>% left_join(US.county, election, by = c("subregion" ="COUNTY"))
View(election)
View(election)
ggplot(data=election, aes(x=long, y=lat, group=group, fill = PBUSH)) +
geom_polygon() +
geom_path(color="black", size=0.5) +
xlab("longitude") + ylab("latitude")
ggplot(data=election, aes(x=long, y=lat, group=group, fill = PBUSH)) +
geom_polygon() +
geom_path(color="black", size=0.5) +
xlab("longitude") + ylab("latitude")
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election <- clean.text(election) %>% left_join(US.county, election, by = c("subregion" ="COUNTY"))
ggplot(data=election, aes(x=long, y=lat, group=group, fill = PBUSH)) +
geom_polygon() +
geom_path(color="black", size=0.5) +
xlab("longitude") + ylab("latitude")
View(election)
election <- clean.text(election) %>%
left_join(US.county, election, by = c("subregion" ="COUNTY"))
US.county$subregion <- clean.text(US.county$subregion)
View(US.county)
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election <- clean.text(election) %>%
left_join(US.county, election, by = c("subregion" ="COUNTY"))
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election <- clean.text(election) %>%
left_join(US.county, election, by = c("subregion" ="COUNTY"))
US.county <- map_data("county") %>% tbl_df()
US.county$subregion <- clean.text(US.county$subregion)
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election <- clean.text(election)
View(US.county)
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election$COUNTY <- clean.text(election$COUNTY)
election.map <- left_join(US.county, election, by = c("subregion"="COUNTY"))
ggplot(data=election.map, aes(x=long, y=lat, group=group, fill = PBUSH)) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude")
ggplot(data=election.map, aes(x=long, y=lat, group=group, fill = PBUSH)) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_continuous()
ggplot(data=election.map, aes(x=long, y=lat, group=group, fill = as.numeric(PBUSH))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_continuous()
View(election)
View(election.map)
state.map <- election %>%
group_by(STATE) %>%
summarize_each(funs(n()))
?summarise_each
state.map <- election %>%
group_by(STATE) %>%
summarise_each(funs(n())
)
View(state.map)
election$STATE <- clean.text(election$STATE)
state.map <- election %>%
group_by(STATE) %>%
summarise_each(funs(sum()))
View(state.map)
state.map <- election %>%
group_by(STATE) %>%
mutate_each(funs(sum()))
View(state.map)
state.map <- election %>%
group_by(STATE) %>%
mutate_each(funs(sum))
tranmute(BUSH = sum(BUSH)) %>%
state.map <- election %>%
group_by(STATE) %>%
tranmute(BUSH = sum(BUSH)) %>%
tranmute(GORE = sum(GORE)) %>%
tranmute(NADER = sum(NADER))
state.map <- election %>%
group_by(STATE) %>%
transmute(BUSH = sum(BUSH)) %>%
transmute(GORE = sum(GORE)) %>%
transmute(NADER = sum(NADER))
View(state.map)
state.map <- election %>%
group_by(STATE) %>%
transmute(BUSH = cumsum(BUSH)) %>%
transmute(GORE = cumsum(GORE)) %>%
transmute(NADER = cumsum(NADER))
state.map <- election %>%
group_by(STATE) %>%
transmute(c(BUSH = cumsum(BUSH),GORE = cumsum(GORE),NADER = cumsum(NADER)))
is.numeric(election$BUSH)
state.map <- election %>%
group_by(STATE) %>%
transmute(BUSH = cumsum(BUSH))
View(US.state)
View(state.map)
state.map <- election %>%
group_by(STATE) %>%
summarize(sum(BUSH))
View(state.map)
state.map <- election %>%
group_by(STATE) %>%
summarize(c(sum(BUSH), sum(GORE)))
state.map <- election %>%
group_by(STATE) %>%
summarize(c(sum(BUSH))
)
state.map <- election %>%
group_by(STATE) %>%
summarise_each(funs(sum))
summarise(sum(BUSH),sum(GORE))
state.map <- election %>%
group_by(STATE) %>%
summarise(sum(BUSH),sum(GORE))
state.map <- election %>%
group_by(STATE) %>%
summarise(sum(BUSH),sum(GORE),sum(NADER))
names(election)
state.map <- election %>%
group_by(STATE) %>% mutate(OTHER = BUCHANAN + BROWNE + PHILLIPS + WRITEINS + HAGELIN + MCREYNOLDS + HARRIS + DODGE + NOTA + MOOREHEAD + BROWN + VENSON + YOUNGKEIT + LANE) %>%
summarise(sum(BUSH),sum(GORE),sum(OTHER))
warnings()
state.map <- election %>%
group_by(STATE) %>%
mutate(OTHER = (BUCHANAN + BROWNE + PHILLIPS + WRITEINS + HAGELIN + MCREYNOLDS + HARRIS + DODGE + NOTA + MOOREHEAD + BROWN + VENSON + YOUNGKEIT + LANE))
state.map <- election %>%
mutate(OTHER = (BUCHANAN + BROWNE + PHILLIPS + WRITEINS + HAGELIN + MCREYNOLDS + HARRIS + DODGE + NOTA + MOOREHEAD + BROWN + VENSON + YOUNGKEIT + LANE)) %>%
group_by(STATE) %>%
summarise(sum(BUSH), sum(GORE), sum(OTHER))
warnings()
election$BUSH <- as.numeric(election$BUSH)
election$BUSH <- as.numeric(election$BUSH)names(election)
election$HAGELIN <- as.numeric(election$HAGELIN)
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election$COUNTY <- clean.text(election$COUNTY)
election$STATE <- clean.text(election$STATE)
election$BUSH <- as.numeric(election$BUSH)
election$GORE <- as.numeric(election$GORE)
election$NADER <- as.numeric(election$NADER)
election$BUCHANAN <- as.numeric(election$BUCHANAN)
election$BROWNE <- as.numeric(election$BROWNE)
election$PHILLIPS <- as.numeric(election$PHILLIPS)
election$WRITEINS <- as.numeric(election$WRITEINS)
election$HAGELIN <- as.numeric(election$HAGELIN)
election$MCREYNOLDS <- as.numeric(election$MCREYNOLDS)
election$HARRIS <- as.numeric(election$HARRIS)
election$DODGE <- as.numeric(election$DODGE)
election$NOTA <- as.numeric(election$NOTA)
election$MOOREHEAD <- as.numeric(election$MOOREHEAD)
election$BROWN <- as.numeric(election$BROWN)
election$VENSON <- as.numeric(election$VENSON)
election$YOUNGKEIT <- as.numeric(election$YOUNGKEIT)
election$LANE <- as.numeric(election$LANE)
state.map <- election %>%
mutate(OTHER = (BUCHANAN + BROWNE + PHILLIPS + WRITEINS + HAGELIN + MCREYNOLDS + HARRIS + DODGE + NOTA + MOOREHEAD + BROWN + VENSON + YOUNGKEIT + LANE)) %>%
group_by(STATE) %>%
summarise(sum(BUSH), sum(GORE), sum(OTHER))
View(state.map)
state.map <- left_join(US.state, state.map, by = c("subregion"="COUNTY"))
View(US.state)
state.map <- election %>%
mutate(OTHER = (BUCHANAN + BROWNE + PHILLIPS + WRITEINS + HAGELIN + MCREYNOLDS + HARRIS + DODGE + NOTA + MOOREHEAD + BROWN + VENSON + YOUNGKEIT + LANE)) %>%
group_by(STATE) %>%
summarise(BUSH = sum(BUSH),
GORE = sum(GORE),
OTHER = sum(OTHER))
state.map <- left_join(US.state, state.map, by = c("region"="STATE"))
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + OTHER + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_continuous()
state.map <- election %>%
mutate(OTHER = (BUCHANAN + BROWNE + PHILLIPS + WRITEINS + HAGELIN + MCREYNOLDS + HARRIS + DODGE + NOTA + MOOREHEAD + BROWN + VENSON + YOUNGKEIT + LANE)) %>%
group_by(STATE) %>%
summarise(BUSH = sum(BUSH),
GORE = sum(GORE),
OTHER = sum(OTHER), na.rm = TRUE)
state.map <- left_join(US.state, state.map, by = c("region"="STATE"))
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + OTHER + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_continuous()
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="blue", high="red", mid="white")
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="blue", high="red", mid="white",
breaks=c(0,0.5,1),)
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="blue", high="red", mid="white",
breaks=c(0,0.5,1))
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="blue", high="red", mid="white",
midpoint = 0.5,
na.value = "transparent")
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick4", mid="white",
midpoint = 0.5,
na.value = "transparent")
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent")
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.1) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent")
ggplot(data=county.map, aes(x=long, y=lat, group=group, fill = as.numeric(PBUSH))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent")
county.map <- left_join(US.county, election, by = c("subregion"="COUNTY"))
ggplot(data=county.map, aes(x=long, y=lat, group=group, fill = as.numeric(PBUSH))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent")
ggplot(data=county.map, aes(x=long, y=lat, group=group, fill = BUSH/(BUSH+GORE))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
xlab("longitude") + ylab("latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent")
election %<>% mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE)
summarize(sd(RedvsBlue))
election %<>% mutate(RedvsBlue = BUSH/(BUSH+GORE))
election <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE))
election <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE)
summarize(sd(RedvsBlue))
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE)
summarize(sd(RedvsBlue))
# Clean data.
election <- read.csv("COUNTY.csv", header=TRUE) %>% tbl_df()
election$COUNTY <- clean.text(election$COUNTY)
election$STATE <- clean.text(election$STATE)
election$BUSH <- as.numeric(election$BUSH)
election$GORE <- as.numeric(election$GORE)
election$NADER <- as.numeric(election$NADER)
election$BUCHANAN <- as.numeric(election$BUCHANAN)
election$BROWNE <- as.numeric(election$BROWNE)
election$PHILLIPS <- as.numeric(election$PHILLIPS)
election$WRITEINS <- as.numeric(election$WRITEINS)
election$HAGELIN <- as.numeric(election$HAGELIN)
election$MCREYNOLDS <- as.numeric(election$MCREYNOLDS)
election$HARRIS <- as.numeric(election$HARRIS)
election$DODGE <- as.numeric(election$DODGE)
election$NOTA <- as.numeric(election$NOTA)
election$MOOREHEAD <- as.numeric(election$MOOREHEAD)
election$BROWN <- as.numeric(election$BROWN)
election$VENSON <- as.numeric(election$VENSON)
election$YOUNGKEIT <- as.numeric(election$YOUNGKEIT)
election$LANE <- as.numeric(election$LANE)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE)
summarize(sd(RedvsBlue))
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(sd(RedvsBlue))
View(conflicted)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue))
ggplot(conflicted, aes(STATE,std_dev)) + geom_point()
ggplot(conflicted, aes(STATE,std_dev)) +
geom_point() +
theme(axis.text.x=element_text(angle=45, hjust=1))
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue)) %>%
sort(std_dev) %>%
head(10)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue)) %>%
sort(std_dev) %>%
slice(1:10)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue)) %>%
sort(std_dev)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue))
View(conflicted)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue)) %>%
arrange(std_dev)
View(conflicted)
conflicted <- election %>%
mutate(RedvsBlue = BUSH/(BUSH+GORE)) %>%
group_by(STATE) %>%
summarize(std_dev = sd(RedvsBlue)) %>%
arrange(desc(std_dev)) %>%
slice(1:10)
ggplot(conflicted, aes(STATE,std_dev)) +
geom_point() +
theme(axis.text.x=element_text(angle=45, hjust=1))
ggplot(conflicted, aes(STATE,std_dev)) +
geom_bar(stat = "bin") +
theme(axis.text.x=element_text(angle=45, hjust=1))
ggplot(conflicted, aes(STATE,std_dev)) +
geom_bar() +
theme(axis.text.x=element_text(angle=45, hjust=1))
ggplot(conflicted, aes(STATE,std_dev)) +
geom_bar(stat = "identity") +
theme(axis.text.x=element_text(angle=45, hjust=1))
ggplot(conflicted, aes(STATE,std_dev)) +
geom_bar(stat = "identity") +
theme(axis.text.x=element_text(angle=45, hjust=1)) +
xlab("State") + ylab("Standard Deviation") +
ggtitle("Standard Deviation in County Election Results")
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.1) +
xlab("Longitude") + ylab("Latitude") +
coord_map() +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent")
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.1) +
xlab("Longitude") + ylab("Latitude") +
coord_map() +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent") +
coord_cartesian(xlim = c(-80, -60), ylim = c(35, 50))
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.1) +
xlab("Longitude") + ylab("Latitude") +
coord_map() +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent") +
coord_cartesian(xlim = c(-80, -60), ylim = c(35, 47.7))
ggplot(data=state.map, aes(x=long, y=lat, group=group, fill = (BUSH/(BUSH + GORE)))) +
geom_polygon() +
geom_path(color="black", size=0.1) +
xlab("Longitude") + ylab("Latitude") +
coord_map() +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent") +
coord_cartesian(xlim = c(-80, -67), ylim = c(35, 47.7))
ggplot(data=county.map, aes(x=long, y=lat, group=group, fill = BUSH/(BUSH+GORE))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
coord_map() +
xlab("Longitude") + ylab("Latitude") +
scale_fill_gradient2(name="", low="dodgerblue4", high="firebrick3", mid="white",
midpoint = 0.5,
na.value = "transparent") +
coord_cartesian(xlim = c(-100, -67), ylim = c(25, 50))
middlecolor <- "white"
ggplot(data=county.map, aes(x=long, y=lat, group=group, fill = BUSH/(BUSH+GORE))) +
geom_polygon() +
geom_path(color="black", size=0.01) +
coord_map() +
xlab("Longitude") + ylab("Latitude") +
scale_fill_gradient2(name="Percentage of Votes\nfor Bush",
low="dodgerblue4", high="firebrick3", mid=middlecolor,
midpoint = 0.5,
na.value = "transparent") +
coord_cartesian(xlim = c(-100, -67), ylim = c(25, 50))
library(RColorBrewer)
par(mar = c(0, 4, 0, 0))
display.brewer.all()
par(mar = c(0, 0, 0, 0))
suppressWarnings(
census <- left_join(census, cancer.data, by = c("FIPS_code" = "FIPS"))
names(census)[names(census)=="SE_T001_001"] <- "Total_Population"
census %<>% mutate(incidence = (cancer_counts/Total_Population))
)
suppressPackageStartupMessages(library(dplyr))
suppressPackageStartupMessages(library(rgdal))
suppressPackageStartupMessages(library(ggplot2))
suppressPackageStartupMessages(library(rvest))
suppressPackageStartupMessages(library(tidyr))
suppressPackageStartupMessages(library(maps))
suppressPackageStartupMessages(library(maptools))
suppressPackageStartupMessages(library(ggmap))
suppressPackageStartupMessages(library(lubridate))
suppressPackageStartupMessages(library(magrittr))
